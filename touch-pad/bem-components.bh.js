!function(t){var e=function(){function t(){this._lastMatchId=0,this._matchers=[],this._infiniteLoopDetection=!1,this.lib={},this._shortTags={};for(var t=0;t<n.length;t++)this._shortTags[n[t]]=1;this._options={},this._optJsAttrName="onclick",this._optJsAttrIsJs=!0,this._optJsCls="i-bem",this._optJsElem=!0,this._optEscapeContent=!1,this._optNobaseMods=!1,this._optDelimElem="__",this._optDelimMod="_",this.utils={_expandoId:(new Date).getTime(),bh:this,isSimple:function(t){if(!t||t===!0)return!0;var e=typeof t;return"string"===e||"number"===e},extend:function(t){t&&"object"==typeof t||(t={});for(var e=1,n=arguments.length;n>e;e++){var o,i=arguments[e];if(i)for(o in i)t[o]=i[o]}return t},position:function(){var t=this.node;return"content"===t.index?1:t.position},isFirst:function(){var t=this.node;return"content"===t.index||1===t.position},isLast:function(){var t=this.node;return"content"===t.index||t.position===t.arr._listLength},tParam:function(t,e,n){var o="__tp_"+t,i=this.node;if(arguments.length>1)return(n||!i.hasOwnProperty(o))&&(i[o]=e),this;for(;i;){if(i.hasOwnProperty(o))return i[o];i=i.parentNode}return void 0},process:function(t){var e=this.ctx,n=this.node,o=this.bh.processBemJson(t,e.block);return this.ctx=e,this.node=n,o},applyBase:function(){var t=this.node,e=t.json,n=e.block,o=e.mods,i=this.bh._fastMatcher(this,e);return void 0!==i&&(this.ctx=t.arr[t.index]=t.json=i,t.block=n,t.mods=o),this},stop:function(){return this.ctx._stop=!0,this},generateId:function(){return"uniq"+this._expandoId+ ++e},mod:function(t,e,n){var o=this.ctx.elem?"elemMods":"mods";if(arguments.length>1){var i=this.ctx[o];return i[t]=!i.hasOwnProperty(t)||n?e:i[t],this}return this.ctx[o][t]},mods:function(t,e){var n=this.ctx.elem?"elemMods":"mods",o=this.ctx[n];return void 0!==t?(this.ctx[n]=e?this.extend(o,t):this.extend(t,o),this):o},tag:function(t,e){return void 0===t?this.ctx.tag:((e||void 0===this.ctx.tag)&&(this.ctx.tag=t),this)},mix:function(t,e){return void 0===t?this.ctx.mix:(this.ctx.mix=e||!this.ctx.mix?t:(Array.isArray(this.ctx.mix)?this.ctx.mix:[this.ctx.mix]).concat(t),this)},attr:function(t,e,n){var o;return arguments.length>1?(o=this.ctx.attrs||(this.ctx.attrs={}),o[t]=!o.hasOwnProperty(t)||n?e:o[t],this):(o=this.ctx.attrs,o?o[t]:void 0)},attrs:function(t,e){var n=this.ctx.attrs||{};return void 0===t?n:(this.ctx.attrs=e?this.extend(n,t):this.extend(t,n),this)},bem:function(t,e){return void 0===t?this.ctx.bem:((e||void 0===this.ctx.bem)&&(this.ctx.bem=t),this)},js:function(t,e){return void 0===t?this.ctx.js:(this.ctx.js=e?t===!0?{}:t:t?this.extend(this.ctx.js,t):this.ctx.js,this)},cls:function(t,e){return void 0===t?this.ctx.cls:((e||void 0===this.ctx.cls)&&(this.ctx.cls=t),this)},param:function(t,e,n){return void 0===e?this.ctx[t]:((n||void 0===this.ctx[t])&&(this.ctx[t]=e),this)},content:function(t,e){return void 0===t?this.ctx.content:((e||void 0===this.ctx.content)&&(this.ctx.content=t),this)},html:function(t,e){return void 0===t?this.ctx.html:((e||void 0===this.ctx.html)&&(this.ctx.html=t),this)},json:function(){return this.ctx}}}var e=0;t.prototype={setOptions:function(t){var e;for(e in t)this._options[e]=t[e];if(t.jsAttrName&&(this._optJsAttrName=t.jsAttrName),t.jsAttrScheme&&(this._optJsAttrIsJs="js"===t.jsAttrScheme),void 0!==t.jsCls&&(this._optJsCls=t.jsCls),t.hasOwnProperty("jsElem")&&(this._optJsElem=t.jsElem),t.clsNobaseMods&&(this._optNobaseMods=!0),t.escapeContent&&(this._optEscapeContent=t.escapeContent),t.delimElem&&(this._optDelimElem=t.delimElem),t.delimMod&&(this._optDelimMod=t.delimMod),t.shortTags)for(var n=0;n<t.shortTags.length;n++)this._shortTags[t.shortTags[n]]=1;return this},getOptions:function(){return this._options},enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBemJson(t))},match:function(t,e){if(!t)return this;if(Array.isArray(t))return t.forEach(function(n,o){this.match(t[o],e)},this),this;if("object"==typeof t){for(var n in t)this.match(n,t[n]);return this}return e.__id="__func"+this._lastMatchId++,this._matchers.push([t,e]),this._fastMatcher=null,this},beforeEach:function(t){return this.match("$before",t)},afterEach:function(t){return this.match("$after",t)},buildMatcher:function(){function t(t,e){for(var n={},o=0,i=t.length;i>o;o++){var a=t[o],c=a[e]||"__no_value__";(n[c]||(n[c]=[])).push(a)}return n}function e(t,e,n){t.push("json."+e+" = true;","subRes = _m"+n+"(ctx, json);",'if (subRes !== undefined) return (subRes || "");',"if (json._stop) return;")}var n,o,i,a,c,s,r,l,m=[],d=["bh = this"],u=this._matchers,h=[];for(n=u.length-1;n>=0;n--)s=u[n],c=s[0],d.push("_m"+n+" = ms["+n+"][1]"),a={fn:s[1],index:n},~c.indexOf(this._optDelimElem)?(r=c.split(this._optDelimElem),l=r[0].split(this._optDelimMod),a.block=l[0],l.length>1&&(a.blockMod=l[1],a.blockModVal=l[2]||!0),r=r[1].split(this._optDelimMod),a.elem=r[0],r.length>1&&(a.elemMod=r[1],a.elemModVal=r[2]||!0)):(r=c.split(this._optDelimMod),a.block=r[0],r.length>1&&(a.blockMod=r[1],a.blockModVal=r[2]||!0)),h.push(a);var f=t(h,"block"),p=f.$before,b=f.$after;if(b&&delete f.$after,m.push("var "+d.join(", ")+";","function applyMatchers(ctx, json) {","var subRes;"),p)for(delete f.$before,o=0,i=p.length;i>o;o++)a=p[o],e(m,a.fn.__id,a.index);m.push("switch (json.block) {");for(var _ in f){m.push('case "'+_+'":');var v=t(f[_],"elem");m.push("switch (json.elem) {");for(var x in v){m.push("__no_value__"===x?"case undefined:":'case "'+x+'":');var g=v[x];for(o=0,i=g.length;i>o;o++){a=g[o];var k=a.fn,y=[];y.push("!json."+k.__id),a.elemMod&&y.push('json.elemMods && json.elemMods["'+a.elemMod+'"] === '+(a.elemModVal===!0||'"'+a.elemModVal+'"')),a.blockMod&&y.push('json.mods && json.mods["'+a.blockMod+'"] === '+(a.blockModVal===!0||'"'+a.blockModVal+'"')),m.push("if ("+y.join(" && ")+") {"),e(m,k.__id,a.index),m.push("}")}m.push("break;")}m.push("}","break;")}if(m.push("}"),b)for(o=0,i=b.length;i>o;o++)a=b[o],e(m,a.fn.__id,a.index);return m.push("};","return applyMatchers;"),m.join("\n")},processBemJson:function(t,e,n){function o(){this.ctx=null}if(null!=t){var i,a,c,s,r,l,m,d,u,h,f=[t],p=[{json:t,arr:f,index:0,block:e,mods:null}],b=this._fastMatcher||(this._fastMatcher=Function("ms",this.buildMatcher())(this._matchers)),_=!n,v=this._infiniteLoopDetection;o.prototype=this.utils;for(var x=new o;i=p.shift();){if(a=i.json,c=i.block,s=i.mods,Array.isArray(a)){for(r=0,l=0,m=a.length;m>r;r++)u=a[r],u!==!1&&null!=u&&"object"==typeof u&&p.push({json:u,arr:a,index:r,position:++l,block:c,mods:s,parentNode:i});a._listLength=l}else{var g,k=!1;if(a.elem?(c=a.block=a.block||c,a.elemMods||(a.elemMods=a.mods||{},a.mods=null),s=a.mods=a.mods||s):a.block&&(c=a.block,s=a.mods=a.mods||{}),"object"==typeof a){if(v){if(a.__processCounter=(a.__processCounter||0)+1,b.__processCounter=(b.__processCounter||0)+1,a.__processCounter>100)throw new Error('Infinite json loop detected at "'+a.block+(a.elem?this._optDelimElem+a.elem:"")+'".');if(b.__processCounter>1e3)throw new Error('Infinite matcher loop detected at "'+a.block+(a.elem?this._optDelimElem+a.elem:"")+'".')}h=void 0,a._stop||(x.node=i,x.ctx=a,h=b(x,a),void 0!==h&&(a=h,i.json=a,i.block=c,i.mods=s,p.push(i),k=!0))}if(!k&&_&&(g=a.content))if(Array.isArray(g)){var y;do{for(y=!1,r=0,m=g.length;m>r;r++)if(Array.isArray(g[r])){y=!0;break}y&&(a.content=g=g.concat.apply([],g))}while(y);for(r=0,l=0,m=g.length,d=m-1;m>r;r++)u=g[r],u!==!1&&null!=u&&"object"==typeof u&&p.push({json:u,arr:g,index:r,position:++l,block:c,mods:s,parentNode:i});g._listLength=l}else p.push({json:g,arr:a,index:"content",block:c,mods:s,parentNode:i})}i.arr[i.index]=a}return f[0]}},toHtml:function(t){this._buf="",this._html(t);var e=this._buf;return delete this._buf,e},_html:function(t){var e,n,s;if(t!==!1&&null!=t)if("object"!=typeof t)this._buf+=this._optEscapeContent?o(t):t;else if(Array.isArray(t))for(e=0,n=t.length;n>e;e++)s=t[e],s!==!1&&null!=s&&this._html(s);else{if(t.toHtml){var r=t.toHtml.call(this,t)||"";return void(this._buf+=r)}var l=t.bem!==!1;if("undefined"!=typeof t.tag&&!t.tag)return void(t.html?this._buf+=t.html:this._html(t.content));t.mix&&!Array.isArray(t.mix)&&(t.mix=[t.mix]);var m,d,u,h="",f="",p=!1;if(m=t.attrs)for(e in m)d=m[e],d===!0?f+=" "+e:d!==!1&&null!==d&&void 0!==d&&(f+=" "+e+'="'+i(d)+'"');if(l){var b=t.block+(t.elem?this._optDelimElem+t.elem:"");t.block&&(h=c(t,b,null,this._optNobaseMods,this._optDelimMod),t.js&&((u={})[b]=t.js===!0?{}:t.js));var _=this._optJsCls&&(this._optJsElem||!t.elem),v=t.mix;if(v&&v.length)for(e=0,n=v.length;n>e;e++){var x=v[e];if(x&&x.bem!==!1){var g=x.block||t.block||"",k=x.elem||(x.block?null:t.block&&t.elem),y=g+(k?this._optDelimElem+k:"");g&&(h+=c(x,y,b,this._optNobaseMods,this._optDelimMod),x.js&&((u=u||{})[y]=x.js===!0?{}:x.js,p=!0,_||(_=g&&this._optJsCls&&(this._optJsElem||!k))))}}if(u){_&&(h+=" "+this._optJsCls);var j=p||t.js!==!0?a(JSON.stringify(u)):'{"'+b+'":{}}';f+=" "+(t.jsAttr||this._optJsAttrName)+"='"+(this._optJsAttrIsJs?"return "+j:j)+"'"}}t.cls&&(h=(h?h+" ":"")+i(t.cls).trim());var M=t.tag||"div";this._buf+="<"+M+(h?' class="'+h+'"':"")+(f?f:""),this._shortTags[M]?this._buf+="/>":(this._buf+=">",t.html?this._buf+=t.html:this._html(t.content),this._buf+="</"+M+">")}}};var n="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),o=t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i=t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},a=t.prototype.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},c=function(t,e,n,o,i){var a,c,s,r="";if(n!==e&&(n&&(r+=" "),r+=e),a=t.elem&&t.elemMods||t.mods)for(s in a)c=a[s],(c||0===c)&&(r+=" "+(o?i:e+i)+s+(c===!0?"":i+c));return r};return t}();"undefined"!=typeof module&&(module.exports=e);var n=new e;n.setOptions({jsAttrName:"data-bem",jsAttrScheme:"json",jsCls:"i-bem",jsElem:!0,escapeContent:!1,clsNobaseMods:!1});var o=function(){!function(){n.match("i-bem__i18n",function(t,e){if(!e)return"";var o=e.keyset,i=e.key,a=e.params||{};return o||i?(("undefined"==typeof e.content||null!==e.content)&&(a.content=n.apply(e.content)),n.lib.i18n(o,i,a)):""})}(),function(){n.match("page",function(t,e){return t.tag("body").tParam("nonceCsp",e.nonce).content([t.content(),e.scripts],!0),[e.doctype||"<!DOCTYPE html>",{tag:"html",cls:"ua_js_no",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},e.uaCompatible===!1?"":{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:e.uaCompatible||"IE=edge"}},{tag:"title",content:e.title},{block:"ua",attrs:{nonce:e.nonce}},e.head,e.styles,e.favicon?{elem:"favicon",url:e.favicon}:""]},e]}]}),n.match("page__head",function(t){t.bem(!1).tag("head")}),n.match("page__meta",function(t){t.bem(!1).tag("meta")}),n.match("page__link",function(t){t.bem(!1).tag("link")}),n.match("page__favicon",function(t,e){t.bem(!1).tag("link").attr("rel","shortcut icon").attr("href",e.url)})}(),function(){n.match("page",function(t,e){t.mix({block:"ua",js:!0}).tParam("zoom",e.zoom)}),n.match("page__head",function(t,e){t.applyBase().content([e.content,{elem:"meta",attrs:{name:"viewport",content:"width=device-width,"+(t.tParam("zoom")?"initial-scale=1":"maximum-scale=1,initial-scale=1,user-scalable=0")}},{elem:"meta",attrs:{name:"format-detection",content:"telephone=no"}},{elem:"link",attrs:{name:"apple-mobile-web-app-capable",content:"yes"}}],!0)})}(),function(){n.match("ua",function(t){t.bem(!1).tag("script").content(["(function(e,c){",'e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");','})(document.documentElement,"className");'],!0)})}(),function(){n.match("ua",function(t){t.js(!0)})}(),function(){n.match("page__css",function(t,e){t.bem(!1),e.url?t.tag("link").attr("rel","stylesheet").attr("href",e.url):t.tag("style")})}(),function(){n.match("page__js",function(t,e){var n=t.tParam("nonceCsp");t.bem(!1).tag("script"),e.url?t.attr("src",e.url):n&&t.attr("nonce",n)})}(),function(){n.match("ua",function(t,e){t.applyBase(),t.content([e.content,"(function(d,n){","d.documentElement.className+=",'" ua_svg_"+(d[n]&&d[n]("http://www.w3.org/2000/svg","svg").createSVGRect?"yes":"no");','})(document,"createElementNS");'],!0)})}(),function(){n.match("page__icon",function(t,e){t.content([e.src16&&{elem:"link",attrs:{rel:"shortcut icon",href:e.src16}},e.src114&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",sizes:"114x114",href:e.src114}},e.src72&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",sizes:"72x72",href:e.src72}},e.src57&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",href:e.src57}}],!0)})}(),function(){n.match("attach",function(t,e){t.tParam("_attach",e).tag("span").js(!0);var n=e.button;"object"==typeof n||(n={block:"button",tag:"span",text:n});var o=t.mods(),i=n.mods||(n.mods={});["size","theme","disabled","focused"].forEach(function(t){i[t]||(i[t]=o[t])}),t.content([n,{elem:"no-file",content:e.noFileText}],!0)})}(),function(){n.match("button",function(t,e){t.tag(e.tag||"button");var n=t.mod("type"),o="button"===t.tag()&&(!n||"submit"===n);t.tParam("_button",e).js(!0).attrs({role:"button",tabindex:e.tabIndex,id:e.id,type:o?n||"button":void 0,name:e.name,value:e.val,title:e.title}).mix({elem:"control"}),t.mod("disabled")&&(o?t.attr("disabled","disabled"):t.attr("aria-disabled","true"));var i=t.content();"undefined"==typeof i&&(i=[e.icon],"text"in e&&i.push({elem:"text",content:e.text}),t.content(i))})}(),function(){n.match("button__text",function(t){t.tag("span")})}(),function(){n.match("button_focused",function(t,e){t.js(t.extend(e.js,{live:!1}),!0)})}(),function(){n.match("icon",function(t,e){var n={"aria-hidden":"true"},o=e.url;o&&(n.style="background-image:url("+o+")"),t.tag("i").attrs(n)})}(),function(){n.match("button",function(t){t.tParam("_attach")&&t.tag("span",!0).applyBase().content([{block:"attach",elem:"control"},t.content()],!0)})}(),function(){n.match("attach__control",function(t){var e={type:"file"},n=t.tParam("_attach");n&&(e.name=n.name,n.mods&&n.mods.disabled&&(e.disabled="disabled"),n.tabIndex&&(e.tabindex=n.tabIndex)),t.tag("input").attrs(e)})}(),function(){n.match("attach__no-file",function(t){t.tag("span")})}(),function(){n.match("attach__file",function(t){t.tag("span")})}(),function(){n.match("attach__text",function(t){t.tag("span")})}(),function(){n.match("attach__clear",function(t){t.tag("i")})}(),function(){n.match("button_type_link",function(t,e){t.tag("a"),e.target&&t.attr("target",e.target),t.mod("disabled")?t.attr("aria-disabled","true").js({url:e.url}):t.attr("href",e.url)})}(),function(){n.match("checkbox",function(t,e){t.tag("label").js(!0).content([{elem:"box",content:{elem:"control",checked:t.mod("checked"),disabled:t.mod("disabled"),name:e.name,val:e.val}},e.text])})}(),function(){n.match("checkbox__box",function(t){t.tag("span")})}(),function(){n.match("checkbox__control",function(t,e){t.tag("input");var n={type:"checkbox",autocomplete:"off"};n.name=e.name,n.value=e.val,e.checked&&(n.checked="checked"),e.disabled&&(n.disabled="disabled"),t.attrs(n)})}(),function(){n.match("checkbox_type_button",function(t,e){var n=t.mods();t.content([{block:"button",mods:{togglable:"check",checked:n.checked,disabled:n.disabled,theme:n.theme,size:n.size},title:e.title,content:[e.icon,"undefined"!=typeof e.text?{elem:"text",content:e.text}:""]},{block:"checkbox",elem:"control",checked:n.checked,disabled:n.disabled,name:e.name,val:e.val}])})}(),function(){n.match("checkbox-group",function(t,e){t.tag("span").js(!0).mix({block:"control-group"});var n=t.mods(),o=e.val,i="undefined"!=typeof o;if(i&&!Array.isArray(o))throw Error("checkbox-group: val must be an array");t.content((e.options||[]).map(function(t,a){return[!!a&&!n.type&&{tag:"br"},{block:"checkbox",mods:{type:n.type,theme:n.theme,size:n.size,checked:i&&o.indexOf(t.val)>-1,disabled:t.disabled||n.disabled},name:e.name,val:t.val,text:t.text,title:t.title,icon:t.icon}]}))})}(),function(){n.match("dropdown",function(t,e){t.js(!0);var n=e.popup;(t.isSimple(n)||"popup"!==n.block)&&(n={block:"popup",content:n});var o=n.mods||(n.mods={});o.theme||(o.theme=t.mod("theme")),o.hasOwnProperty("autoclosable")||(o.autoclosable=!0),o.target="anchor",t.content([{elem:"switcher",content:e.switcher},n],!0)})}(),function(){n.match("dropdown__switcher",function(t){t.tag(!1)})}(),function(){n.match("popup",function(t,e){t.js({mainOffset:e.mainOffset,secondaryOffset:e.secondaryOffset,viewportOffset:e.viewportOffset,directions:e.directions,zIndexGroupLevel:e.zIndexGroupLevel})})}(),function(){n.match("dropdown_switcher_button__switcher",function(t,e){var n=t.content();if(Array.isArray(n))return n;var o=t.isSimple(n)?{block:"button",text:n}:n;if("button"===o.block){var i=o.mods||(o.mods={}),a=e.blockMods||e.mods;i.size||(i.size=a.size),i.theme||(i.theme=a.theme),i.disabled=a.disabled}return o})}(),function(){n.match("dropdown_switcher_link__switcher",function(t,e){var n=t.content();if(Array.isArray(n))return n;var o=t.isSimple(n)?{block:"link",mods:{pseudo:!0},content:n}:n;if("link"===o.block){var i=o.mods||(o.mods={}),a=e.blockMods||e.mods;i.theme||(i.theme=a.theme),i.disabled=a.disabled}return o})}(),function(){n.match("link",function(t,e){t.tag("a").mix({elem:"control"});var o,i="object"==typeof e.url?n.apply(e.url):e.url,a={};t.mod("disabled")?t.js(i?{url:i}:!0):(i?(a.href=i,o=e.tabIndex):o=e.tabIndex||0,t.js(!0)),"undefined"==typeof o||(a.tabindex=o),e.title&&(a.title=e.title),e.target&&(a.target=e.target),t.attrs(a)})}(),function(){n.match("link_pseudo",function(t,e){e.url||t.tag("span")})}(),function(){n.match("image",function(t,e){t.attr("role","img"),"undefined"!=typeof e.content?t.tag("span"):t.tag("img").attrs({src:e.url,width:e.width,height:e.height,alt:e.alt,title:e.title})})}(),function(){n.match("input",function(t,e){t.tag("span").js(!0).tParam("_input",e).content({elem:"box",content:{elem:"control"}},!0)})}(),function(){n.match("input__box",function(t){t.tag("span")})}(),function(){n.match("input__control",function(t){t.tag("input");var e=t.tParam("_input"),n={id:e.id,name:e.name,value:e.val,maxlength:e.maxLength,tabindex:e.tabIndex,placeholder:e.placeholder};e.autocomplete===!1&&(n.autocomplete="off"),e.mods&&e.mods.disabled&&(n.disabled="disabled"),t.attrs(n)})}(),function(){n.match("input__control",function(t){t.applyBase().attrs({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})})}(),function(){n.match("input_has-clear__box",function(t){t.content([t.content(),{elem:"clear"}],!0)})}(),function(){n.match("input__clear",function(t){t.tag("i")})}(),function(){n.match("input_type_password__control",function(t){t.attr("type","password")})}(),function(){n.match("input_type_search__control",function(t){t.attr("type","search")})}(),function(){n.match("menu",function(t,e){var n={theme:t.mod("theme"),disabled:t.mod("disabled")};t.js(!0).tParam("menuMods",n).mix({elem:"control"});var o={role:"menu"};t.mod("disabled")||(o.tabindex=0),t.attrs(o);var i,a=[];if(e.content){var c="undefined"!=typeof e.val,s="check"===t.mod("mode"),r=function(t){return c&&(s?e.val.indexOf(t)>-1:e.val===t)},l=function(t){for(var e,n=0;e=t[n++];)"menu-item"===e.block?(i||(i=e),r(e.val)&&((e.mods=e.mods||{}).checked=!0,a.push(e))):e.content&&l(e.content)};if(!Array.isArray(e.content))throw Error("menu: content must be an array of the menu items");l(e.content)}t.tParam("firstItem",i).tParam("checkedItems",a)})}(),function(){n.match("menu-item",function(t,e){var n=t.tParam("menuMods");n&&t.mods({theme:n.theme,disabled:n.disabled}),t.js({val:e.val}).attr("role","menuitem")})}(),function(){n.match("menu_focused",function(t){var e=t.extend(t.js()||{},{live:!1});t.js(e)})}(),function(){n.match("menu__group",function(t,e){t.attr("role","group");var n=e.title;"undefined"!=typeof n&&t.attr("aria-label",n,!0).content([{elem:"group-title",content:n},t.content()],!0)})}(),function(){n.match("menu__group-title",function(t){t.attr("role","presentation")})}(),function(){n.match("menu_mode_radio",function(t){t.applyBase();var e=t.tParam("firstItem");e&&!t.tParam("checkedItems").length&&((e.mods=e.mods||{}).checked=!0)})}(),function(){n.match("menu-item_type_link",function(t){t.applyBase(),t.mod("disabled")&&t.tParam("_menuItemDisabled",!0)}),n.match("link",function(t){t.tParam("_menuItemDisabled")&&t.mod("disabled",!0)})}(),function(){n.match("modal",function(t,e){t.js(!0).mix({block:"popup",js:{zIndexGroupLevel:e.zIndexGroupLevel||20},mods:{autoclosable:t.mod("autoclosable")}}).content({elem:"table",content:{elem:"cell",content:{elem:"content",content:t.content()}}},!0)})}(),function(){n.match("progressbar",function(t,e){var n=e.val||0;t.js({val:n}).content({elem:"bar",attrs:{style:"width:"+n+"%"}})})}(),function(){n.match("radio",function(t,e){t.tag("label").js(!0).content([{elem:"box",content:{elem:"control",checked:t.mod("checked"),disabled:t.mod("disabled"),name:e.name,val:e.val}},e.text])})}(),function(){n.match("radio__box",function(t){t.tag("span")})}(),function(){n.match("radio__control",function(t,e){t.tag("input");var n={type:"radio",autocomplete:"off",name:e.name,value:e.val};e.checked&&(n.checked="checked"),e.disabled&&(n.disabled="disabled"),t.attrs(n)})}(),function(){n.match("radio_type_button",function(t,e){var n=t.mods();t.content([{block:"button",mods:{togglable:"radio-check"===n.mode?"check":"radio",checked:n.checked,disabled:n.disabled,theme:n.theme,size:n.size},title:e.title,content:[e.icon,"undefined"!=typeof e.text?{elem:"text",content:e.text}:""]},{block:"radio",elem:"control",checked:n.checked,disabled:n.disabled,name:e.name,val:e.val}])})}(),function(){n.match("radio-group",function(t,e){t.tag("span").js(!0).mix({block:"control-group"});var n=t.mods(),o="undefined"!=typeof e.val;t.content((e.options||[]).map(function(t,i){return[!!i&&!n.type&&{tag:"br"},{block:"radio",mods:{type:n.type,mode:n.mode,theme:n.theme,size:n.size,checked:o&&e.val===t.val,disabled:t.disabled||n.disabled},name:e.name,val:t.val,text:t.text,title:t.title,icon:t.icon}]}))})}(),function(){n.match("radio-group_mode_radio-check",function(t){if("button"!==t.mod("type"))throw Error("Modifier mode=radio-check can be only with modifier type=button")})}(),function(){n.match("select",function(t,e){function n(t){return a&&(c?e.val.indexOf(t)>-1:e.val===t)}function o(t){for(var e,a=0;e=t[a++];)e.group?o(e.group):(i||(i=e),n(e.val)&&(e.checked=!0,s.push(e)))}if(!t.mod("mode"))throw Error("Can't build select without mode modifier");var i,a="undefined"!=typeof e.val,c="check"===t.mod("mode"),s=[];o(e.options),t.js({name:e.name,optionsMaxHeight:e.optionsMaxHeight}).tParam("select",e).tParam("firstOption",i).tParam("checkedOptions",s).content([{elem:"button"},{block:"popup",mods:{target:"anchor",theme:t.mod("theme"),autoclosable:!0},directions:["bottom-left","bottom-right","top-left","top-right"],content:{block:e.block,mods:t.mods(),elem:"menu"}}])})}(),function(){n.match("select_focused",function(t){t.applyBase().extend(t.js(),{live:!1})})}(),function(){n.match("select__control",function(t,e){var n=e.blockMods||e.mods;t.tag("input").attrs({type:"hidden",name:t.tParam("select").name,value:e.val,disabled:n.disabled?"disabled":void 0})})}(),function(){n.match("select__button",function(t,e){var n=e.blockMods||e.mods,o=t.tParam("select"),i=t.tParam("checkedOptions");return{block:"button",mix:{block:e.block,elem:e.elem},mods:{size:n.size,theme:n.theme,view:n.view,focused:n.focused,disabled:n.disabled,checked:"radio"!==n.mode&&!!i.length},id:o.id,tabIndex:o.tabIndex,content:[t.content(),{block:"icon",mix:{block:"select",elem:"tick"}}]}})}(),function(){n.match("select__menu",function(t,e){var n=t.mods(),o=t.tParam("select"),i=function(t){var e={block:"menu-item",mods:{disabled:n.disabled||t.disabled},val:t.val,js:{checkedText:t.checkedText},content:t.text};return t.icon&&(e.js.text=t.text,e.content=[t.icon,e.content]),e};return{block:"menu",mix:{block:e.block,elem:e.elem},mods:{size:n.size,theme:n.theme,disabled:n.disabled,mode:n.mode},val:o.val,attrs:{tabindex:null},content:o.options.map(function(t){return t.group?{elem:"group",title:t.title,content:t.group.map(i)}:i(t)})}})}(),function(){n.match("select_mode_check",function(t,e){t.applyBase().extend(t.js(),{text:e.text});var n=t.tParam("checkedOptions");if(n[0]){var o=n.map(function(t){return{elem:"control",val:t.val}});t.content([o,t.content()],!0)}}),n.match("select_mode_check__button",function(t){var e=t.tParam("checkedOptions");t.content({elem:"text",content:1===e.length?e[0].text:e.reduce(function(t,e){return t+(t?", ":"")+(e.checkedText||e.text)},"")||t.tParam("select").text})})}(),function(){n.match("select_mode_radio-check",function(t,e){t.applyBase().extend(t.js(),{text:e.text});var n=t.tParam("checkedOptions");n[0]&&t.content([{elem:"control",val:n[0].val},t.content()],!0)}),n.match("select_mode_radio-check__button",function(t){var e=t.tParam("checkedOptions");t.content({elem:"text",content:(e[0]||t.tParam("select")).text})})}(),function(){n.match("select_mode_radio",function(t){t.applyBase();var e=t.tParam("checkedOptions"),n=t.tParam("firstOption");n&&!e.length&&(n.checked=!0,e=[n]),t.tParam("checkedOption",e[0]).content([{elem:"control",val:e[0].val},t.content()],!0)}),n.match("select_mode_radio__button",function(t){t.content({elem:"text",content:t.tParam("checkedOption").text})})}(),function(){n.match("spin",function(t){t.tag("span")})}(),function(){n.match("textarea",function(t,e){var n={id:e.id,name:e.name,tabindex:e.tabIndex,placeholder:e.placeholder};e.autocomplete===!1&&(n.autocomplete="off"),t.mod("disabled")&&(n.disabled="disabled"),t.js(!0).tag("textarea").mix({elem:"control"}).attrs(n).content(e.val,!0)})}(),function(){n.match("progressbar_theme_simple",function(t,e){t.applyBase().content([{elem:"box",content:e.content},{elem:"text",content:e.val||0}],!0)})}()},i=!0;"object"==typeof modules?(modules.define("BH",[],function(t){o(),t(n)}),modules.define("bh",["BH"],function(t){t(n)}),modules.define("BEMHTML",["BH"],function(t){t(n)}),i=!1):"object"==typeof exports&&(o(),n.bh=n,n.BEMHTML=n,module.exports=n,i=!1),i&&(o(),t.BH=n,t.bh=n,t.BEMHTML=n)}(this);