var BEMHTML;!function(t){function e(e){var n={},i=function(e,n){return function(i){if("object"==typeof n&&"undefined"!=typeof e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.bemhtml=i()}}(function(){return function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n?n:t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function i(t){this.bemxjst=t,this.jsClass=null,this.tag=new r(this,"tag"),this.attrs=new r(this,"attrs"),this.js=new r(this,"js"),this.mix=new r(this,"mix"),this.bem=new r(this,"bem"),this.cls=new r(this,"cls"),s.apply(this,arguments)}var o=t("inherits"),r=t("../bemxjst/match").Match,s=t("../bemxjst/entity").Entity;o(i,s),n.Entity=i,i.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},i.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"js"===t||"mix"===t||"bem"===t||"cls"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new r(this,t))},i.prototype.defaultBody=function(t){return this.bemxjst.render(t,this,this.tag.exec(t),t.ctx.js!==!1?this.js.exec(t):void 0,this.bem.exec(t),this.cls.exec(t),this.mix.exec(t),this.attrs.exec(t),this.content.exec(t))}},{"../bemxjst/entity":5,"../bemxjst/match":8,inherits:11}],2:[function(t,e,n){function i(t){c.apply(this,arguments),this._shortTagCloser="undefined"!=typeof t.xhtml&&t.xhtml?"/>":">",this._elemJsInstances=t.elemJsInstances,this._omitOptionalEndTags=t.omitOptionalEndTags,this._unquotedAttrs="undefined"!=typeof t.unquotedAttrs&&t.unquotedAttrs}var o=t("inherits"),r=t("../bemxjst/utils"),s=t("./entity").Entity,c=t("../bemxjst");o(i,c),e.exports=i,i.prototype.Entity=s,i.prototype.runMany=function(t){var e="",n=this.context,i=n.position,o=n._notNewList;if(o?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var r=0;r<t.length;r++)e+=n._flush(this._run(t[r]));else for(var r=0;r<t.length;r++)e+=this._run(t[r]);return o||(n.position=i),e},i.prototype.render=function(t,e,n,i,o,s,c,a,l){var h=t.ctx;if(void 0===n)n="div";else if(!n)return l||0===l?this._run(l):"";var u="<"+n,d=h.js;d!==!1&&(i===!0&&(i={}),i&&i!==h.js?d!==!0&&(i=r.extend(d,i)):d===!0&&(i={}));var p;i&&(p={},p[e.jsClass]=i);var f="undefined"!=typeof o?o:e.block||e.elem;f=!!f;var m=p&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!f&&!s)return this.renderClose(u,t,n,a,f,h,l);u+=" class=";var b="";if(f){if(b+=e.jsClass,b+=this.buildModsClasses(e.block,e.elem,e.elem?t.elemMods:t.mods),h.mix&&c&&c!==h.mix&&(c=[].concat(c,h.mix)),c){var y=this.renderMix(e,c,p,m);b+=y.out,p=y.jsParams,m=y.addJSInitClass}s&&(b+=" "+("string"==typeof s?r.attrEscape(s).trim():s))}else b+="string"==typeof s?r.attrEscape(s).trim():s;return m&&(b+=" i-bem"),u+=this._unquotedAttrs&&r.isUnquotedAttr(b)?b:'"'+b+'"',f&&p&&(u+=" data-bem='"+r.jsAttrEscape(JSON.stringify(p))+"'"),this.renderClose(u,t,n,a,f,h,l)};var a={html:1,head:1,body:1,p:1,ul:1,ol:1,li:1,dt:1,dd:1,colgroup:1,thead:1,tbody:1,tfoot:1,tr:1,th:1,td:1,option:1,rb:1,rt:1,rtc:1,rp:1,optgroup:1};i.prototype.renderClose=function(t,e,n,i,o,s,c){var l=t;return l+=this.renderAttrs(i,s),r.isShortTag(n)?(l+=this._shortTagCloser,this.canFlush&&(l=e._flush(l))):(l+=">",this.canFlush&&(l=e._flush(l)),(c||0===c)&&(l+=this.renderContent(c,o)),this._omitOptionalEndTags&&a.hasOwnProperty(n)||(l+="</"+n+">")),this.canFlush&&(l=e._flush(l)),l},i.prototype.renderAttrs=function(t,e){var n="";if(r.isObj(t)||r.isObj(e.attrs)){t=r.extend(t,e.attrs);for(var i in t){var o=t[i];if(void 0!==o&&o!==!1&&null!==o)if(o===!0)n+=" "+i;else{var s=r.isSimple(o)?o:this.context.reapply(o);n+=" "+i+"=",n+=this._unquotedAttrs&&r.isUnquotedAttr(s)?s:'"'+r.attrEscape(s)+'"'}}}return n},i.prototype.renderMix=function(t,e,n,i){var o={},r=this.context,s=n,c=i;o[t.jsClass]=!0,Array.isArray(e)||(e=[e]);for(var a=this.classBuilder,l="",h=0;h<e.length;h++){var u=e[h];if(u){"string"==typeof u&&(u={block:u,elem:void 0});var d=!1;u.elem?d=u.elem!==t.elem&&u.elem!==r.elem||u.block&&u.block!==t.block:u.block&&(d=!(u.block===t.block&&u.mods)||u.mods&&t.elem);var p=u.block||u._block||r.block,f=u.elem||u._elem||r.elem,m=a.build(p,f),b=u.elem||u._elem||(u.block?void 0:r.elem);if(d&&(l+=" "+a.build(p,b)),l+=this.buildModsClasses(p,b,u.elem||!u.block&&(u._elem||r.elem)?u.elemMods:u.mods),u.js&&(s||(s={}),s[a.build(p,u.elem)]=u.js===!0?{}:u.js,c||(c=p&&!u.elem)),d&&!o[m]){o[m]=!0;var y=this.entities[m];if(y){var x=r.block,v=r.elem,k=y.mix.exec(r);if(r.elem=v,r.block=x,k)for(var g=0;g<k.length;g++){var w=k[g];if(w&&(!w.block&&!w.elem||!o[a.build(w.block,w.elem)])){if(w.block)continue;w._block=p,w._elem=f,e=e.slice(0,h+1).concat(w,e.slice(h+1))}}}}}}return{out:l,jsParams:s,addJSInitClass:c}},i.prototype.buildModsClasses=function(t,e,n){if(!n)return"";var i,o="";for(i in n)if(n.hasOwnProperty(i)&&""!==i){var r=n[i];if(r||0===r){"boolean"!=typeof r&&(r+="");var s=this.classBuilder;o+=" "+(e?s.buildElemClass(t,e,i,r):s.buildBlockClass(t,i,r))}}return o}},{"../bemxjst":7,"../bemxjst/utils":10,"./entity":1,inherits:11}],3:[function(t,e,n){function i(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}n.ClassBuilder=i,i.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},i.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return e!==!0&&(n+=this.modDelim+e),n},i.prototype.buildBlockClass=function(t,e,n){var i=t;return n&&(i+=this.buildModPostfix(e,n)),i},i.prototype.buildElemClass=function(t,e,n,i){return this.buildBlockClass(t)+this.elemDelim+e+this.buildModPostfix(n,i)},i.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],4:[function(t,e,n){function i(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=t.options.escapeContent===!0}var o=t("./utils");n.Context=i,i.prototype._flush=null,i.prototype.isSimple=o.isSimple,i.prototype.isShortTag=o.isShortTag,i.prototype.extend=o.extend,i.prototype.identify=o.identify,i.prototype.xmlEscape=o.xmlEscape,i.prototype.attrEscape=o.attrEscape,i.prototype.jsAttrEscape=o.jsAttrEscape,i.prototype.isFirst=function(){return 1===this.position},i.prototype.isLast=function(){return this.position===this._listLength},i.prototype.generateId=function(){return o.identify(this.ctx)},i.prototype.reapply=function(t){return this._bemxjst.run(t)}},{"./utils":10}],5:[function(t,e,n){function i(t,e,n,i){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new s(this),this.content=new s(this,"content"),this.rest={},this.init(e,n),this.initModes(i)}function o(){return this.ctx.content}var r=t("./utils"),s=t("./match").Match,c=t("./tree"),a=c.Template,l=c.PropertyMatch,h=c.CompilerOptions;n.Entity=i,i.prototype.init=function(t,e){this.block=t,this.elem=e},i.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],i=n.predicates.length-1;i>=0;i--){var o=n.predicates[i];if(o instanceof l&&"_mode"===o.key){n.predicates.splice(i,1),this._initRest(o.value),this.rest[o.value].push(n);break}}i===-1&&this.def.push(n);for(var i=n.predicates.length-1;i>=0;i--){var o=n.predicates[i];o instanceof h&&(this.options=r.extend(this.options,o.options))}}},i.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var i=e[n];t.rest[i]&&this.rest[i].prepend(t.rest[i])}e=Object.keys(t.rest);for(var n=0;n<e.length;n++){var i=e[n];this.rest[i]||(this._initRest(i),this.rest[i].prepend(t.rest[i]))}},i.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},i.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new a([],o)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new a([],function(){return t.defaultBody(this)}))}}},{"./match":8,"./tree":9,"./utils":10}],6:[function(t,e,n){function i(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,n.BEMXJSTError=i},{}],7:[function(t,e,n){function i(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){a.call(this,t)},o(this.contextConstructor,a),this.context=null,this.classBuilder=new l(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}var o=t("inherits"),r=t("./tree").Tree,s=t("./tree").PropertyMatch,c=t("./tree").AddMatch,a=t("./context").Context,l=t("./class-builder").ClassBuilder,h=t("./utils");e.exports=i,i.prototype.locals=r.methods.concat("local","applyCtx","applyNext","apply"),i.prototype.compile=function(t){function e(){return s._run(s.context.ctx)}function n(t,n){return n?s.local(n,function(){return s.local({ctx:t},e)}):s.local({ctx:t},e)}function i(t,e){return s.applyMode(t,e)}function o(t){return function(e){return s.local(t,e)}}var s=this,c=new r({refs:{applyCtx:n,local:o,apply:i}}),a=this.recompileInput(t),l=c.build(a,[o,n,function t(e){return e?s.local(e,t):s.applyNext()},i]);this.tree&&(l={templates:l.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(l.oninit)}),this.tree=l;var h=this.groupEntities(l.templates);h=this.transformEntities(h),this.entities=h,this.oninit=l.oninit},i.prototype.recompileInput=function(t){var e=i.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var n=t.toString();return n=n.replace(/^function[^{]+{|}$/g,""),n=new Function(e.join(", "),n)},i.prototype.groupEntities=function(e){for(var n={},i=0;i<e.length;i++){var o,r=e[i].clone(),a=null;o=void 0;for(var l=0;l<r.predicates.length;l++){var h=r.predicates[l];if(h instanceof s||h instanceof c){if("block"===h.key)a=h.value;else{if("elem"!==h.key)continue;o=h.value}r.predicates.splice(l,1),l--}}if(null===a){for(var u="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ",l=0;l<r.predicates.length;l++){var h=r.predicates[l];0!==l&&(u+="\n     * "),u+="_mode"===h.key?h.value+"()":Array.isArray(h.key)?h.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+h.key[1]+"', '"+h.value+"')":h.value&&h.key?h.key+"('"+h.value+"')":"match(…)"}throw u+="\n    And template body: \n    ("+("function"==typeof r.body?r.body:JSON.stringify(r.body))+")","undefined"==typeof BEMXJSTError&&(BEMXJSTError=t("./error").BEMXJSTError),new BEMXJSTError(u)}var d=this.classBuilder.build(a,o);n[d]||(n[d]=[]),n[d].push(r)}return n},i.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],r=this.classBuilder.split(o),s=r[0],c=r[1];"*"===c&&e.push(s),t[o]=new this.Entity(this,s,c,t[o])}if(t.hasOwnProperty("*")){for(var a=t["*"],i=0;i<n.length;i++){var o=n[i];"*"!==o&&t[o].prepend(a)}this.defaultEnt.prepend(a),this.defaultElemEnt.prepend(a)}for(var i=0;i<e.length;i++){for(var s=e[i],l=this.classBuilder.build(s,"*"),a=t[l],i=0;i<n.length;i++){var o=n[i];if(o!==l){var h=t[o];h.block===s&&void 0!==h.elem&&t[o].prepend(a)}}this.defaultElemEnt.prepend(a)}for(var i=0;i<n.length;i++){var o=n[i];t[o].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},i.prototype._run=function(t){return void 0===t||""===t||null===t?this.runEmpty():Array.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||"undefined"!=typeof t.block||"undefined"!=typeof t.elem||"undefined"!=typeof t.cls||"undefined"!=typeof t.attrs?h.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t)},i.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var i=this._run(t);return this.canFlush&&(i=this.context._flush(i)),this.match=e,this.context=n,i},i.prototype.runEmpty=function(){return this.context._listLength--,""},i.prototype.runUnescaped=function(t){return this.context._listLength--,""+t.html},i.prototype.runSimple=function(t){return this.context._listLength--,!t&&0!==t||t===!0?"":"string"==typeof t&&this.context.escapeContent?h.xmlEscape(t):t},i.prototype.runOne=function(t){var e=this.context,n=e.ctx,i=e.block,o=e._currBlock,r=e.elem,s=e.mods,c=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===i&&t.elem||(e.mods={})):t.elem?o&&(e.block=o):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var a=e.block||"",l=e.elem;a||l?e.position++:e._listLength--,this.depth++;var h=!1,u=this.entities[this.classBuilder.build(a,l)];u?this.canFlush&&!u.canFlush&&(h=!0,this.canFlush=!1):(u=this.defaultEnt,void 0!==l&&(u=this.defaultElemEnt),u.init(a,l));var d=this.options.production===!0?this.tryRun(e,u):u.run(e);return e.ctx=n,e.block=i,e.elem=r,e.mods=s,e.elemMods=c,e._currBlock=o,this.depth--,h&&(this.canFlush=!0),d},i.prototype.tryRun=function(t,e){try{return e.run(t)}catch(e){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),e),""}},i.prototype.renderContent=function(t,e){var n=this.context,i=n.position,o=n._listLength,r=n._notNewList;n._notNewList=!1,e&&(n.position=0,n._listLength=1);var s=this._run(t);return n.position=i,n._listLength=o,n._notNewList=r,s},i.prototype.local=function(t,e){for(var n=Object.keys(t),i=[],o=0;o<n.length;o++){for(var r=n[o],s=r.split("."),c=this.context,a=0;a<s.length-1;a++)c=c[s[a]];i.push({parts:s,value:c[s[a]]}),c[s[a]]=t[r]}for(var l=e.call(this.context),o=0;o<i.length;o++){for(var s=i[o].parts,c=this.context,a=0;a<s.length-1;a++)c=c[s[a]];c[s[a]]=i[o].value}return l},i.prototype.applyNext=function(){return this.match.exec(this.context)},i.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(!n)return this.context.ctx[t];if(!e)return n.exec(this.context);var i=this,o=function(){return n.exec(i.context)};return this.local(e,o)},i.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)},t.BEMContext=e.contextConstructor;for(var n=0;n<e.oninit.length;n++){var i=e.oninit[n];i(t,{BEMContext:t.BEMContext})}}},{"./class-builder":3,"./context":4,"./error":6,"./tree":9,"./utils":10,inherits:11}],8:[function(t,e,n){function i(t,e){this.template=t,this.keys=e.key,this.value=e.value}function o(t,e){this.template=t,this.body=e.body}function r(t){this.template=t,this.wrap=null}function s(t){this.template=t,this.wrap=null}function c(t,e){this.template=t,this.key=e.key,this.value=e.value}function a(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],a=0,l=0;a<this.predicates.length;a++,l++){var h=e.predicates[a];h instanceof u?this.predicates[l]=new i(this,h):h instanceof f?(l--,n.push(new s(this))):h instanceof d?this.predicates[a]=new c(this,h):h instanceof m?this.predicates[l]=new o(this,h):h instanceof p?(l--,n.push(new r(this))):l--}for(var a=0;a<n.length;a++,l++)this.predicates[l]=n[a];this.predicates.length!==l&&(this.predicates.length=l)}function l(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}var h=t("./tree"),u=h.PropertyMatch,d=h.AddMatch,p=h.WrapMatch,f=h.ExtendMatch,m=h.CustomMatch;i.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(e=e[this.keys[n]],!e)return!1;return e=e[this.keys[n]],this.value===!0?void 0!==e&&""!==e&&e!==!1&&null!==e:String(e)===this.value},o.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},r.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},s.prototype.exec=function(t){var e=this.ext!==t.ctx;return this.ext=t.ctx,e},c.prototype.exec=function(t){return t[this.key]===this.value},n.MatchTemplate=a,n.Match=l,l.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},l.prototype.push=function(t){this.templates.push(new a(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},l.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(t){this.thrownError=t}},l.prototype.exec=function(t){for(var e,n=this.checkDepth(),i=this.maskOffset,o=this.mask[i],r=1,s=0;s<this.count;s++){if(0===(o&r)){e=this.templates[s];for(var c=0;c<e.predicates.length;c++){var a=e.predicates[c];if(!a.exec(t))break}if(c===e.predicates.length)break}1073741824===r?(i++,o=this.mask[i],r=1):r<<=1}if(s===this.count)return t.ctx[this.modeName];var l=o,h=this.bemxjst.match;this.mask[i]|=r,this.bemxjst.match=this,this.thrownError=null;var u;u="function"==typeof e.body?this.tryCatch(e.body,t):e.body,this.mask[i]=l,this.bemxjst.match=h,this.restoreDepth(n);var d=this.thrownError;if(null!==d)throw this.thrownError=null,d;return u},l.prototype.checkDepth=function(){if(this.depth===-1)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},l.prototype.restoreDepth=function(t){t!==-1&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":9}],9:[function(t,e,n){function i(t,e){this.predicates=t,this.body=e}function o(){}function r(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var i=e[n];i instanceof o?this.conditions.push(i):i===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=i}}function s(t){o.call(this),this.refs=t}function c(t){o.call(this),this.refs=t}function a(t){o.call(this),this.refs=t}function l(t,e){o.call(this),this.mode=t,this.refs=e}function h(t){o.call(this),this.options=t}function u(t,e){o.call(this),this.key=t,this.value=e}function d(t){o.call(this),this.body=t}function p(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var i=e[n];this.boundBody[p.methods[n]]=i}this.queue=[],this.templates=[],this.initializers=[]}function f(t,e,n){var i=t[n],o=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return i.apply(t,arguments)}:function(){return i.apply(t,arguments),o}:function(){var e=i.apply(t,arguments),r=t.queue.pop(),s=t.queue[t.queue.length-1];return s.conditions=s.conditions.concat(r.conditions),s.children=s.children.concat(r.children),"replace"===n||"extend"===n||"wrap"===n?e:o}}var m=t("minimalistic-assert"),b=t("inherits");n.Template=i,i.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){var n=this.predicates[e];t=n.wrapBody(t)}this.body=t},i.prototype.clone=function(){return new i(this.predicates.slice(),this.body)},n.MatchBase=o,o.prototype.wrapBody=function(t){return t},b(s,o),n.WrapMatch=s,s.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},b(c,o),n.ReplaceMatch=c,c.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},b(a,o),n.ExtendMatch=a,a.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var i={},o=Object.keys(t),r=0;r<o.length;r++)i[o[r]]=t[o[r]];return n(i)(function(){return e(this.ctx)})}:function(){for(var i={},o=t.call(this,this,this.ctx),r=Object.keys(o),s=0;s<r.length;s++)i[r[s]]=o[r[s]];return n(i)(function(){return e(this.ctx)})}},b(l,o),n.AddMatch=l,l.prototype.wrapBody=function(t){return this[this.mode+"WrapBody"](t)},l.prototype.appendContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,i=e.apply;return"function"!=typeof t?function(){return[i("content"),t]}:function(){return[i("content"),n(t.call(this,this,this.ctx))]}},l.prototype.prependContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,i=e.apply;return"function"!=typeof t?function(){return[t,i("content")]}:function(){return[n(t.call(this,this,this.ctx)),i("content")]}},b(h,o),n.CompilerOptions=h,b(u,o),n.PropertyMatch=u,b(d,o),n.CustomMatch=d,n.Tree=p,p.methods=["match","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions","appendContent","prependContent"],p.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},p.prototype.methods=function(t){for(var e=new Array(p.methods.length),n=0;n<e.length;n++){var i=p.methods[n];e[n]=f(this,t,i)}return e},p.prototype.flush=function(t,e){var n;n=e.conditions?t.concat(e.conditions):e.conditions;for(var o=0;o<e.children.length;o++){var s=e.children[o];if(s instanceof r)this.flush(n,e.children[o]);else{var c=new i(t,s);c.wrap(),this.templates.push(c)}}},p.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new r(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},p.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(n=new d(n)),m(n instanceof o,"Wrong .match() argument"),t[e]=n}return this.queue.push(new r(this,t)),this.boundBody},p.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},p.prototype.xjstOptions=function(t){return this.queue.push(new r(this,[new h(t)])),this.boundBody},p.prototype.block=function(t){return this.match(new u("block",t))},p.prototype.elem=function(t){return this.match(new u("elem",t))},p.prototype.mode=function(t){return this.match(new u("_mode",t))},p.prototype.mod=function(t,e){return this.match(new u(["mods",t],void 0===e||String(e)))},p.prototype.elemMod=function(t,e){return this.match(new u(["elemMods",t],void 0===e||String(e)))},p.prototype.def=function(){return this.applyMode(arguments,"default")},["tag","attrs","cls","js","bem","mix","content"].forEach(function(t){p.prototype[t]=function(){return this.applyMode(arguments,t)}}),["appendContent","prependContent"].forEach(function(t){p.prototype[t]=function(){return this.content.apply(this,arguments).match(new l(t,this.refs))}}),p.prototype.wrap=function(){return this.def.apply(this,arguments).match(new s(this.refs))},p.prototype.replace=function(){return this.def.apply(this,arguments).match(new c(this.refs))},p.prototype.extend=function(){return this.def.apply(this,arguments).match(new a(this.refs))},p.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:11,"minimalistic-assert":12}],10:[function(t,e,n){function i(){return b+ ++p}var o="&amp;",r="&lt;",s="&gt;",c="&quot;",a="&#39;",l=/[&<>]/;n.xmlEscape=function(t){var e=""+t,n=l.exec(e);if(!n)return e;var i,c="",a=0,h=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 38:i=o;break;case 60:i=r;break;case 62:i=s;break;default:continue}h!==a&&(c+=e.substring(h,a)),h=a+1,c+=i}return h!==a?c+e.substring(h,a):c};var h=/["&]/;n.attrEscape=function(t){var e=""+t,n=h.exec(e);if(!n)return e;var i,r="",s=0,a=0;for(s=n.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i=c;break;case 38:i=o;break;default:continue}a!==s&&(r+=e.substring(a,s)),a=s+1,r+=i}return a!==s?r+e.substring(a,s):r};var u=/['&]/;n.jsAttrEscape=function(t){var e=""+t,n=u.exec(e);if(!n)return e;var i,r="",s=0,c=0;for(s=n.index;s<e.length;s++){switch(e.charCodeAt(s)){case 38:i=o;break;case 39:i=a;break;default:continue}c!==s&&(r+=e.substring(c,s)),c=s+1,r+=i}return c!==s?r+e.substring(c,s):r},n.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};var d={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return d.hasOwnProperty(t)},n.isSimple=function t(e){return!e||e===!0||(!(e.block||e.elem||e.tag||e.cls||e.attrs||!e.hasOwnProperty("html")||!t(e.html))||("string"==typeof e||"number"==typeof e))},n.isObj=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};var p=0,f=+new Date,m="__"+f,b="uniq"+f;n.getUniq=i,n.identify=function(t,e){if(!t)return i();if(e||t[m])return t[m];var n=i();return t[m]=n,n},n.fnToString=function(t){if(!t)return"";if("function"==typeof t){var e=/^function\s*[^{]+{|}$/g,n=/^(_|\(\w|[^=>]+\))\s=>\s{|}$/g;t=t.toString(),t=t.replace(0===t.indexOf("function")?e:n,"")}return t};var y=/^[:\w.-]+$/;n.isUnquotedAttr=function(t){return t&&y.exec(t)}},{}],11:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=i,i.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}]},{},[2])(2)}),e.exports||n.BEMHTML}({},{}),o=new i({elemJsInstances:!0});return o.compile(function(t,n,i,o,r,s,c,a,l,h,u,d,p,f,m,b,y,x,v,k,g,w,_,E,M){i("ua")(l()("script"),p()(!1),m()(["(function(e,c){",'e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");','})(document.documentElement,"className");'])),i("page")(r("doctype")(function(){return{html:this.ctx.doctype||"<!DOCTYPE html>"}}),n()(function(){var t=this.ctx;return this._nonceCsp=t.nonce,[M("doctype"),{tag:"html",attrs:{lang:t.lang},cls:"ua_js_no",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},t.uaCompatible===!1?"":{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:t.uaCompatible||"IE=edge"}},{tag:"title",content:t.title},{block:"ua",attrs:{nonce:t.nonce}},t.head,t.styles,t.favicon?{elem:"favicon",url:t.favicon}:""]},t]}]}),l()("body"),m()(function(){return[E(),this.ctx.scripts]}),o("head")(p()(!1),l()("head")),o("meta")(p()(!1),l()("meta")),o("link")(p()(!1),l()("link")),o("favicon")(p()(!1),l()("link"),h()(function(){return this.extend(E()||{},{rel:"shortcut icon",href:this.ctx.url})}))),i("page").elem("css")(p()(!1),l()("style"),t(function(){return this.ctx.url})(l()("link"),h()(function(){return this.extend(E()||{},{rel:"stylesheet",href:this.ctx.url})}))),i("page").elem("js")(p()(!1),l()("script"),h()(function(){var t={};return this.ctx.url?t.src=this.ctx.url:this._nonceCsp&&(t.nonce=this._nonceCsp),this.extend(E()||{},t)})),i("ua").content()(function(){return[E(),{html:["(function(d,n){","d.documentElement.className+=",'" ua_svg_"+(d[n]&&d[n]("http://www.w3.org/2000/svg","svg").createSVGRect?"yes":"no");','})(document,"createElementNS");'].join("")}]}),i("page").elem("conditional-comment")(l()(!1),m()(function(){var t=this.ctx,e=t.condition.replace("<","lt").replace(">","gt").replace("=","e"),n=e.indexOf("!")>-1,i=t.msieOnly===!1,o=n||i;return[{html:"<!--[if "+e+"]>"},i?{html:"<!"}:"",o?{html:"-->"}:"",E(),o?{html:"<!--"}:"",{html:"<![endif]-->"}]})),i("attach")(a()(function(){return E({_attach:this.ctx})}),l()("span"),d()(!0),m()(function(){var t=this.ctx,e=t.button;this.isSimple(e)&&(e={block:"button",tag:"span",text:e});var n=this.mods,i=e.mods||(e.mods={});return["size","theme","disabled","focused"].forEach(function(t){i[t]||(i[t]=n[t])}),[e,{elem:"no-file",content:this.ctx.noFileText}]})),i("button")(a()(function(){var t=M("tag"),e="button"===t&&(!this.mods.type||"submit"===this.mods.type);return E({_isRealButton:e})}),l()(function(){return this.ctx.tag||"button"}),d()(!0),f()({elem:"control"}),h()(function(){var t=this.ctx,e={role:"button",tabindex:t.tabIndex,id:t.id,title:t.title};return this.mods.disabled&&!this._isRealButton&&(e["aria-disabled"]="true"),e},t(function(){return this._isRealButton})(function(){var t=this.ctx,e={type:this.mods.type||"button",name:t.name,value:t.val};return this.mods.disabled&&(e.disabled="disabled"),this.extend(E(),e)})),m()(function(){var t=this.ctx,e=[t.icon];return null!=t.text&&e.push({elem:"text",content:t.text}),e},t(function(){return"undefined"!=typeof this.ctx.content})(function(){return this.ctx.content}))),i("button").elem("text").tag()("span"),i("button").mod("focused",!0).js()(function(){return this.extend(E(),{lazyInit:!1})}),i("icon")(l()("span"),h()(function(){var t={},e=this.ctx.url;return e&&(t.style="background-image:url("+e+")"),t})),i("button").match(function(){return this._attach})(l()("span"),m()(function(){return[{block:"attach",elem:"control"},E()]})),i("attach").elem("control")(l()("input"),h()(function(){var t={type:"file"},e=this._attach;return e&&(t.name=e.name,e.mods&&e.mods.disabled&&(t.disabled="disabled"),e.tabIndex&&(t.tabindex=e.tabIndex)),t})),i("attach").elem("no-file").tag()("span"),i("attach").elem("file").tag()("span"),i("attach").elem("text").tag()("span"),i("attach").elem("clear").tag()("span"),i("button").mod("togglable","check").attrs()(function(){return this.extend(E(),{"aria-pressed":String(!!this.mods.checked)})}),i("button").mod("togglable","radio").attrs()(function(){return this.extend(E(),{"aria-pressed":String(!!this.mods.checked)})}),i("button").mod("type","link")(l()("a"),h()(function(){var t=this.ctx,e={role:"link"};return t.target&&(e.target=t.target),this.mods.disabled?e["aria-disabled"]="true":e.href=t.url,this.extend(E(),e)}),s("disabled",!0).js()(function(){return this.extend(E(),{url:this.ctx.url})})),i("checkbox")(l()("label"),d()(!0),m()(function(){var t=this.ctx,e=this.mods;return[{elem:"box",content:{elem:"control",checked:e.checked,disabled:e.disabled,name:t.name,val:t.val}},t.text&&{elem:"text",content:t.text}]})),i("checkbox").elem("box").tag()("span"),i("checkbox").elem("control")(l()("input"),h()(function(){var t={type:"checkbox",autocomplete:"off"},e=this.ctx;return t.name=e.name,t.value=e.val,e.checked&&(t.checked="checked"),e.disabled&&(t.disabled="disabled"),t})),i("checkbox").elem("text")(l()("span"),h()({role:"presentation"})),i("checkbox").mod("type","button")(m()(function(){var t=this.ctx,e=this.mods;return[{block:"button",mods:{togglable:"check",checked:e.checked,disabled:e.disabled,theme:e.theme,size:e.size},attrs:{role:"checkbox","aria-pressed":void 0,"aria-checked":String(!!e.checked)},title:t.title,content:[t.icon,"undefined"!=typeof t.text?{elem:"text",content:t.text}:""]},{block:"checkbox",elem:"control",checked:e.checked,disabled:e.disabled,name:t.name,val:t.val}]})),i("checkbox-group")(l()("span"),h()({role:"group"}),d()(!0),f()([{block:"control-group"}]),m()(function(){var t=this.mods,e=this.ctx,n=e.val,i="undefined"!=typeof n;if(i&&!Array.isArray(n))throw Error("checkbox-group: val must be an array");return(e.options||[]).map(function(o,r){return[!!r&&!t.type&&{tag:"br"},{block:"checkbox",mods:{type:t.type,theme:t.theme,size:t.size,checked:i&&n.indexOf(o.val)>-1,disabled:o.disabled||t.disabled},name:e.name,val:o.val,text:o.text,title:o.title,icon:o.icon}]})})),i("control-group").attrs()({
role:"group"}),i("dropdown")(b()(function(){return[{elem:"popup"},{elem:"switcher"}]}),a()(function(){var t=this.ctx;return t.js=this.extend(M("js"),t.js),E({_dropdown:t,_popupId:this.generateId()})}),d()(function(){return{id:this.generateId()}}),o("switcher").replace()(function(){var t=this._dropdown,e=t.switcher;return e.block&&(e.mix=M("mix")),e}),o("switcher").mix()(function(){var t=this._dropdown;return[t].concat(t.switcher.mix||[],t.mix||[],{block:this.block,elem:this.elem,elemMods:{switcher:this.mods.switcher},js:!0})}),o("popup").replace()(function(){var t=this._dropdown,e=t.popup;(this.isSimple(e)||"popup"!==e.block)&&(e={block:"popup",content:e});var n=e.mods||(e.mods={}),i=e.attrs||(e.attrs={});return n.theme||(n.theme=this.mods.theme),n.hasOwnProperty("autoclosable")||(n.autoclosable=!0),n.target="anchor",i.id=this._popupId,e.mix=[t].concat(e.mix||[]),e})),i("popup")(d()(function(){var t=this.ctx;return{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel}}),h()({"aria-hidden":"true"})),i("dropdown").mod("switcher","button").elem("switcher").replace()(function(){var t=this._dropdown,e=t.switcher;if(Array.isArray(e))return e;var n=this.isSimple(e)?{block:"button",text:e}:e;if("button"===n.block){var i=n.mods||(n.mods={}),o=n.attrs||(n.attrs={}),r=this.mods;i.size||(i.size=r.size),i.theme||(i.theme=r.theme),i.disabled=r.disabled,o["aria-haspopup"]="true",o["aria-controls"]=this._popupId,o["aria-expanded"]="false",n.mix=M("mix")}return n}),i("dropdown").mod("switcher","link").elem("switcher").replace()(function(){var t=this._dropdown,e=t.switcher;if(Array.isArray(e))return e;var n=this.isSimple(e)?{block:"link",mods:{pseudo:!0},content:e}:e;if("link"===n.block){var i=n.mods||(n.mods={}),o=n.attrs||(n.attrs={}),r=this.mods;i.theme||(i.theme=r.theme),i.disabled=r.disabled,o["aria-haspopup"]="true",o["aria-controls"]=this._popupId,o["aria-expanded"]="false",n.mix=M("mix")}return n}),i("link")(a()(function(){var t=this.ctx;return"object"==typeof t.url&&(t.url=this.reapply(t.url)),E()}),l()("a"),d()(!0),f()([{elem:"control"}]),h()(function(){var t,e=this.ctx,n={role:"link"};return this.mods.disabled?n["aria-disabled"]="true":e.url?(n.href=e.url,t=e.tabIndex):t=e.tabIndex||0,"undefined"==typeof t||(n.tabindex=t),e.title&&(n.title=e.title),e.target&&(n.target=e.target),n}),s("disabled",!0).js()(function(){return this.extend(E(),{url:this.ctx.url})})),i("link").mod("pseudo",!0).match(function(){return!this.ctx.url})(l()("span"),h()(function(){return this.extend(E(),{role:"button"})})),i("image")(h()({role:"img"}),l()("span"),t(function(){return"undefined"==typeof this.ctx.content})(l()("img"),h()(function(){var t=this.ctx;return this.extend(E(),{role:void 0,src:t.url,width:t.width,height:t.height,alt:t.alt,title:t.title})}))),i("input")(l()("span"),d()(!0),a()(function(){return E({_input:this.ctx})}),m()({elem:"box",content:{elem:"control"}})),i("input").elem("box").tag()("span"),i("input").elem("control")(l()("input"),h()(function(){var t=this._input,e={id:t.id,name:t.name,value:t.val,maxlength:t.maxLength,tabindex:t.tabIndex,placeholder:t.placeholder};return t.autocomplete===!1&&(e.autocomplete="off"),this.mods.disabled&&(e.disabled="disabled"),e})),i("input").mod("has-clear",!0).elem("box").content()(function(){return[this.ctx.content,{elem:"clear"}]}),i("input").elem("clear").tag()("span"),i("input").mod("type","password").elem("control").attrs()(function(){return this.extend(E(),{type:"password"})}),i("input").mod("type","search").elem("control").attrs()(function(){return this.extend(E(),{type:"search"})}),i("menu")(a()(function(){var t,e=this.ctx,n=this.mods,i=[];if(e.content){var o="undefined"!=typeof e.val,r=function(t){return o&&("check"===n.mode?e.val.indexOf(t)>-1:e.val===t)},s=function(e){for(var n,o=0;n=e[o++];)"item"===n.elem?(t||(t=n),r(n.val)&&((n.elemMods=n.elemMods||{}).checked=!0,i.push(n))):n.content&&s(n.content)};if(!Array.isArray(e.content))throw Error("menu: content must be an array of the menu items");s(e.content)}return E({_firstItem:t,_checkedItems:i,_menuMods:n})}),h()(function(){var t={role:"menu"};return this.mods.disabled?t["aria-disabled"]="true":t.tabindex=0,t}),d()(!0),f()({elem:"control"}),s("disabled",!0).js()(function(){return this.extend(E(),{tabIndex:0})})),i("menu").mod("focused",!0).js()(function(){return this.extend(E(),{lazyInit:!1})}),i("menu").elem("item")(a().match(function(){return this._menuMods})(function(){var t=this.elemMods;return t.theme=t.theme||this._menuMods.theme,t.disabled=t.disabled||this._menuMods.disabled,E()}),d()(function(){return{val:this.ctx.val}}),h()(function(){var t=this.elemMods,e=this._menuMods&&this._menuMods.mode,n=e?"check"===e?"menuitemcheckbox":"menuitemradio":"menuitem",i={role:n,id:this.ctx.id||this.generateId(),"aria-disabled":t.disabled&&"true","aria-checked":e&&String(!!t.checked)};return i})),i("menu").elem("group")(h()({role:"group"}),t(function(){return"undefined"!=typeof this.ctx.title})(h()(function(){return this.extend(E(),{"aria-label":void 0,"aria-labelledby":this.generateId()})}),m()(function(){return[{elem:"group-title",attrs:{role:"presentation",id:this.generateId()},content:this.ctx.title},E()]}))),i("menu").mod("mode","radio").match(function(){return this._firstItem&&this._checkedItems&&!this._checkedItems.length}).def()(function(){return(this._firstItem.elemMods||(this._firstItem.elemMods={})).checked=!0,E()}),i("menu").elem("item").elemMod("type","link").elemMod("disabled",!0).match(function(){return!this._menuItemDisabled}).def()(function(){return E({_menuItemDisabled:!0})}),i("link").match(function(){return this._menuItemDisabled}).def()(function(){return delete this._menuItemDisabled,this.mods.disabled=!0,E()}),i("modal")(d()(!0),f()(function(){return{block:"popup",js:{zIndexGroupLevel:this.ctx.zIndexGroupLevel||20},mods:{autoclosable:this.mods.autoclosable}}}),h()({role:"dialog","aria-hidden":"true"}),m()(function(){return{elem:"table",content:{elem:"cell",content:{elem:"content",content:E()}}}})),i("progressbar")(a()(function(){return E({_val:this.ctx.val||0})}),d()(function(){return{val:this._val}}),h()(function(){return{role:"progressbar","aria-valuenow":this._val+"%"}}),m()(function(){return{elem:"bar",attrs:{style:"width:"+this._val+"%"}}},t(function(){return"undefined"!=typeof this.ctx.content})(function(){return this.ctx.content}))),i("radio")(l()("label"),d()(!0),m()(function(){var t=this.ctx;return[{elem:"box",content:{elem:"control",checked:this.mods.checked,disabled:this.mods.disabled,name:t.name,val:t.val}},t.text&&{elem:"text",content:t.text}]})),i("radio").elem("box").tag()("span"),i("radio").elem("control")(l()("input"),h()(function(){var t=this.ctx,e={type:"radio",autocomplete:"off",name:t.name,value:t.val};return t.checked&&(e.checked="checked"),t.disabled&&(e.disabled="disabled"),e})),i("radio").elem("text")(l()("span"),h()(function(){return{role:"presentation"}})),i("radio").mod("type","button")(m()(function(){var t=this.ctx,e=this.mods;return[{block:"button",mods:{togglable:"radio-check"===e.mode?"check":"radio",checked:e.checked,disabled:e.disabled,theme:e.theme,size:e.size},title:t.title,content:[t.icon,"undefined"!=typeof t.text?{elem:"text",content:t.text}:""]},{block:"radio",elem:"control",checked:e.checked,disabled:e.disabled,name:t.name,val:t.val}]})),i("radio-group")(l()("span"),h()({role:"radiogroup"}),d()(!0),f()([{block:"control-group"}]),m()(function(){var t=this.mods,e=this.ctx,n="undefined"!=typeof e.val;return(e.options||[]).map(function(i,o){return[!!o&&!t.type&&{tag:"br"},{block:"radio",mods:{type:t.type,mode:t.mode,theme:t.theme,size:t.size,checked:n&&e.val===i.val,disabled:i.disabled||t.disabled},name:e.name,val:i.val,text:i.text,title:i.title,icon:i.icon}]})})),i("radio-group").mod("mode","radio-check")(a()(function(){if("button"!==this.mods.type)throw Error("Modifier mode=radio-check can be only with modifier type=button");return E()})),i("select")(a().match(function(){return!this._select})(function(){if(!this.mods.mode)throw Error("Can't build select without mode modifier");var t,e=this,n=this.ctx,i="undefined"!=typeof n.val,o="check"===this.mods.mode,r=[],s=[],c=function(t){return i&&(o?n.val.indexOf(t)>-1:n.val===t)},a=function(n){for(var i,o=0;i=n[o++];)i.group?a(i.group):(t||(t=i),s.push(i.id=e.identify(i)),c(i.val)&&(i.checked=!0,r.push(i)))};return a(n.options),E({_select:n,_checkedOptions:r,_firstOption:t,_optionIds:s})}),d()(function(){var t=this.ctx;return{name:t.name,optionsMaxHeight:t.optionsMaxHeight}}),m()(function(){return[{elem:"button"},{block:"popup",mods:{target:"anchor",theme:this.mods.theme,autoclosable:!0},directions:["bottom-left","bottom-right","top-left","top-right"],content:{block:this.block,mods:this.mods,elem:"menu"}}]})),i("select").mod("focused",!0).js()(function(){return this.extend(E(),{lazyInit:!1})}),i("select").elem("control")(l()("input"),h()(function(){return{type:"hidden",name:this._select.name,value:this.ctx.val,disabled:this.mods.disabled?"disabled":void 0,autocomplete:"off"}})),i("select").elem("button")(b()(function(){var t=this._select,e=this.mods;return{block:"button",mix:{block:this.block,elem:this.elem},mods:{size:e.size,theme:e.theme,view:e.view,focused:e.focused,disabled:e.disabled,checked:"radio"!==e.mode&&!!this._checkedOptions.length},attrs:{role:"listbox","aria-owns":this._optionIds.join(" "),"aria-multiselectable":"check"===e.mode?"true":void 0,"aria-labelledby":this._selectTextId},id:t.id,tabIndex:t.tabIndex,content:[M("content"),{block:"icon",mix:{block:"select",elem:"tick"}}]}}),a()(function(){return E({_selectTextId:this.generateId()})})),i("button").elem("text").match(function(){return this._select})(h()(function(){return{id:this._selectTextId}})),i("select").elem("menu")(b()(function(){var t=this.mods,e=function(e){var n={block:"menu",elem:"item",elemMods:{disabled:t.disabled||e.disabled},attrs:{role:"option"},id:e.id,val:e.val,js:{checkedText:e.checkedText},content:e.text};return e.icon&&(n.js.text=e.text,n.content=[e.icon,n.content]),n};return{block:"menu",mix:{block:this.block,elem:this.elem},mods:{size:t.size,theme:t.theme,disabled:t.disabled,mode:t.mode},val:this._select.val,attrs:{role:void 0,tabindex:void 0},content:this._select.options.map(function(t){return t.group?{elem:"group",title:t.title,content:t.group.map(e)}:e(t)})}})),i("select").mod("mode","check")(d()(function(){return this.extend(E(),{text:this.ctx.text})}),o("button").content()(function(){var t=this._checkedOptions;return[{elem:"text",content:1===t.length?t[0].text:t.reduce(function(t,e){return t+(t?", ":"")+(e.checkedText||e.text)},"")||this._select.text}]}),t(function(){return this._checkedOptions[0]}).content()(function(){var t=this._checkedOptions.map(function(t){return{elem:"control",val:t.val}});return t.push(E()),t})),i("select").mod("mode","radio-check")(d()(function(){return this.extend(E(),{text:this.ctx.text})}),o("button").content()(function(){return[{elem:"text",content:(this._checkedOptions[0]||this._select).text}]}),t(function(){return this._checkedOptions[0]})(m()(function(){return[{elem:"control",val:this._checkedOptions[0].val},E()]}))),i("select").mod("mode","radio")(a().match(function(){return this._checkedOptions})(function(){var t=this._checkedOptions,e=this._firstOption;return e&&!t.length&&(e.checked=!0,t=[e]),E({_checkedOption:t[0]})}),m()(function(){return[{elem:"control",val:this._checkedOption.val},E()]}),o("button").content()(function(){return[{elem:"text",content:this._checkedOption.text}]})),i("spin")(l()("span")),i("textarea")(d()(!0),l()("textarea"),f()({elem:"control"}),h()(function(){var t=this.ctx,e={id:t.id,name:t.name,tabindex:t.tabIndex,placeholder:t.placeholder};return t.autocomplete===!1&&(e.autocomplete="off"),this.mods.disabled&&(e.disabled="disabled"),e}),m()(function(){return this.ctx.val})),i("progressbar").mod("theme","simple").content()(function(){return[{elem:"box",content:E()},{elem:"text",content:this.ctx.val||0}]}),x(function(t,n){var i=t.BEMContext||n.BEMContext;i.prototype.require=function(t){return e[t]}})}),o.exportApply(n),n}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],function(t){t(e({}))}),n=!1),n&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);